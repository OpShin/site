(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32],{3598:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user-manual/what_i_wish_i_knew",function(){return n(863)}])},863:function(e,a,n){"use strict";n.r(a),n.d(a,{__toc:function(){return d}});var t=n(5893),s=n(2673),i=n(2197),r=n(8426);n(9128);var o=n(2643),l=n(9013);let d=[{depth:2,value:"CBOR / CDDL",id:"cbor--cddl"},{depth:2,value:"Byron Addresses",id:"byron-addresses"},{depth:2,value:"Validity Intervals",id:"validity-intervals"},{depth:2,value:"Serialization strategies",id:"serialization-strategies"},{depth:4,value:"CDDL files",id:"cddl-files"},{depth:2,value:"Hash digests",id:"hash-digests"},{depth:2,value:"Policy Id and language tags",id:"policy-id-and-language-tags"},{depth:2,value:"Rewards & Withdrawals",id:"rewards--withdrawals"},{depth:2,value:"Native Scripts",id:"native-scripts"},{depth:2,value:"The 'clean' trick: avoid replaying blocks",id:"the-clean-trick-avoid-replaying-blocks"},{depth:2,value:"Transaction latency vs finality",id:"transaction-latency-vs-finality"},{depth:2,value:"Developer Portal",id:"developer-portal"}];function _createMdxContent(e){let a=Object.assign({h1:"h1",p:"p",h2:"h2",a:"a",ul:"ul",li:"li",strong:"strong",code:"code",em:"em",h4:"h4",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ol:"ol",pre:"pre",span:"span"},(0,o.a)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{children:"\nhtml.dark img.light {\n  display: none;\n}\nhtml.light img.dark {\n  display: none;\n}\nimg.img-75 {\n  margin: 1rem auto;\n  width: 75%;\n}\n"}),"\n","\n",(0,t.jsx)(a.h1,{children:"What I wish I knew when exploring Cardano"}),"\n",(0,t.jsx)(a.p,{children:"This documentation is a collection of tips and secret knowledge that may be\nuseful in your Cardano journey. Some may never be useful to you or only useful\nin the distant future. Yet, we hope that if we can save someone a few hours of\ndebugging and hunting down rabbits in bottomless holes, we have accomplished\nour mission."}),"\n",(0,t.jsx)(a.h2,{id:"cbor--cddl",children:"CBOR / CDDL"}),"\n",(0,t.jsxs)(a.p,{children:["Pretty much everything in Cardano that requires serialization is done using a a\nstructured binary format called ",(0,t.jsx)(a.a,{href:"https://www.rfc-editor.org/rfc/rfc8949",children:"CBOR"}),".\nThink of it as JSON but for binary data. You don't have to be an expert in CBOR\nto work on Cardano, but being familiar with the notation can be useful\nespecially for troubleshooting low-level stuff."]}),"\n",(0,t.jsx)(a.p,{children:"There are two specific areas worth knowing:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:["CDDL, which is a specification meta-language for CBOR. It's used to describe\nhow some data is encoded into bytes. In particular, the Cardano ledger\nmaintains ",(0,t.jsx)(a.a,{href:"https://github.com/input-output-hk/cardano-ledger/blob/81548171f2cd336714bb0425640a6553c46aa09e/eras/babbage/test-suite/cddl-files/babbage.cddl",children:"a CDDL specification of all the Cardano\nobjects"}),"\nthat have to be serialized on-chain. Transaction serialization, for example, is\nentirely specified in this document. This specification is generally ",(0,t.jsx)(a.strong,{children:"the"}),"\nsource of truth for many other tools."]}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:["CBOR diagnostic provides a more human-readable, JSON-like syntax that\nis handy for debugging. We explain CBOR diagnostic in more detail in the\n",(0,t.jsx)(a.a,{href:"/language-tour/troubleshooting#cbor-diagnostic",children:"Troubleshooting"})," section."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["A well-known tool for debugging CBOR is ",(0,t.jsx)(a.a,{href:"https://cbor.me",children:"cbor.me"}),"; there are\nalso numerous command-line utilities in various languages."]}),"\n",(0,t.jsx)(a.h2,{id:"byron-addresses",children:"Byron Addresses"}),"\n",(0,t.jsx)(a.p,{children:"Cardano has two kinds of addresses, which are called by different names\ndepending on who you ask. Prior to the introduction of the Shelley era,\naddresses looked vastly different than what they look like today."}),"\n",(0,t.jsxs)(a.p,{children:["For example: ",(0,t.jsx)(a.code,{children:"Ae2tdPwUPEYz6ExfbWubiXPB6daUuhJxikMEb4eXRp5oKZBKZwrbJ2k7EZe"}),"."]}),"\n",(0,t.jsxs)(a.p,{children:["We call these addresses ",(0,t.jsx)(a.em,{children:'"Bootstrap addresses"'})," or simply ",(0,t.jsx)(a.em,{children:'"Byron addresses"'}),";\nin contrast to other addresses that are either called ",(0,t.jsx)(a.em,{children:'"addresses"'})," or\n",(0,t.jsx)(a.em,{children:'"Shelley addresses"'})," when there's a possible ambiguity. Byron addresses are\nconsidered deprecated today and are likely not something you want to use ever.\nBut, you might come across them, for some legacy systems still use them."]}),"\n",(0,t.jsx)(l.UW,{type:"info",children:(0,t.jsxs)(a.p,{children:["Outputs locked by a Byron address or inputs corresponding to such outputs are\n",(0,t.jsx)(a.strong,{children:"forbidden"})," in transactions that have Plutus scripts! This means that\non-chain validators should never encounter Byron addresses in a validation\ncontext. This used to be different in the early days of the Alonzo era but was\nlater changed to avoid hazardous situations."]})}),"\n",(0,t.jsx)(a.h2,{id:"validity-intervals",children:"Validity Intervals"}),"\n",(0,t.jsx)(a.p,{children:"You probably know already that Cardano smart-contract execution is fully\ndeterministic."}),"\n",(0,t.jsxs)(a.p,{children:["This, however, raises an interesting question: ",(0,t.jsx)(a.strong,{children:"How to deal with time?"})]}),"\n",(0,t.jsxs)(a.p,{children:["Asking for ",(0,t.jsx)(a.em,{children:"the current time"})," usually breaks determinism because asking the\nsame question at different moments may lead to different answers and, thus,\ndifferent execution paths. So how to introduce time in scripts validating\ntransactions?"]}),"\n",(0,t.jsx)(a.p,{children:'Cardano decouples transaction validations in two phases, and we typically refer\nto them as "phase-1 validations" and "phase-2 validations". Phase-1 validations\nare structural checks on a transaction performed by the ledger. For example,\nthis is when the ledger verifies that inputs referenced in a transaction are\nvalid, that minimum amounts for fees and outputs are met, etc...'}),"\n",(0,t.jsx)(a.p,{children:'Among the available features of a transaction are "validity intervals" that\ndefine a period after which and until the ledger can consider the transaction\nvalid. The validity interval is made of a lower bound (optional) and an upper\nbound (optional), and it is verified during phase-1 validations. That is if a\ntransaction is said to be valid only after the 5th January 2030, it can only be\nsubmitted and considered valid by the ledger after that date. Similarly, if the\nvalidity interval defines an upper bound, then the transaction will sit in\nmempools until then. It is pruned if it doesn\'t make it into a block by the\nspecified date.'}),"\n",(0,t.jsx)(a.p,{children:"Thereby, one can introduce a notion of time in validators through the means of\nvalidity intervals. Since they are checked during phase-1, a validator can\nassume that the transaction it validates is within the specified validity\ninterval. Hence, should you ensure that an action happens only after a specific\ndate, you can record that date as a datum and check that the transaction's\nlower bound is greater than the specified date."}),"\n",(0,t.jsx)(a.p,{children:"The validity interval can be as narrow as one second, allowing scripts to run at\nvery thin precisions. However, a narrow interval means getting the\ntransaction in a block may be more difficult. As a reminder, there's one block\nevery 20 seconds on average minted on the Cardano blockchain. Blocks are\nusually propagated fast, but it can take a few minutes under moments of heavy\nload."}),"\n",(0,t.jsx)(a.h2,{id:"serialization-strategies",children:"Serialization strategies"}),"\n",(0,t.jsxs)(a.p,{children:["There's no canonical serialization of objects on Cardano. While there is indeed\na CDDL specification for core objects",(0,t.jsx)("sup",{children:(0,t.jsx)("a",{class:"nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]",href:"#cddl-files",children:"see\nbelow"})}),", as mentioned earlier, there are still multiple possible\ninterpretations possible of the specification. For example, a CDDL\nspecification is unable to express in what order should keys in a map be\nserialized, or whether optional fields with default values (e.g. an optional\nlist of elements) should be omitted entirely or specified with an empty default\nvalue."]}),"\n",(0,t.jsxs)(a.p,{children:["While there are attempts, such as\n",(0,t.jsx)(a.a,{href:"https://github.com/cardano-foundation/CIPs/tree/master/CIP-0021",children:"CIP-0021"})," to\nagree on a canonical serialization; the current Cardano ledger does not provide\nany such guarantee. Consequently, the recommended strategy when dealing with\ndeserialized objects that need to be reserialized is to always preserve the\noriginal bytes and not attempt to reserialize anything. At the same time,\nparsers should not assume one way over another and be ready to deserialize any\npossible representation that is compliant with the CDDL specification."]}),"\n",(0,t.jsx)(a.p,{children:"This means, amongst other things, that there are multiple possible\nserializations of a transaction, and it may lead to surprising situations when\ntrying to recalculate the hash of an object."}),"\n",(0,t.jsx)(a.h4,{id:"cddl-files",children:"CDDL files"}),"\n",(0,t.jsxs)(a.table,{children:[(0,t.jsx)(a.thead,{children:(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.th,{children:"Era"}),(0,t.jsx)(a.th,{children:"CDDL Specification"})]})}),(0,t.jsxs)(a.tbody,{children:[(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"Byron"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"https://github.com/IntersectMBO/cardano-ledger/blob/92fd6688b3cce015abc46c133c68e6ea7baa6503/eras/byron/cddl-spec/byron.cddl",children:"byron.cddl"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"Shelley"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"https://github.com/IntersectMBO/cardano-ledger/blob/92fd6688b3cce015abc46c133c68e6ea7baa6503/eras/shelley/impl/cddl-files/shelley.cddl",children:"shelley.cddl"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"Allegra"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"https://github.com/IntersectMBO/cardano-ledger/blob/92fd6688b3cce015abc46c133c68e6ea7baa6503/eras/allegra/impl/cddl-files/allegra.cddl",children:"allegra.cddl"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"Mary"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"https://github.com/IntersectMBO/cardano-ledger/blob/92fd6688b3cce015abc46c133c68e6ea7baa6503/eras/mary/impl/cddl-files/mary.cddl",children:"mary.cddl"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"Alonzo"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"https://github.com/IntersectMBO/cardano-ledger/blob/92fd6688b3cce015abc46c133c68e6ea7baa6503/eras/alonzo/impl/cddl-files/alonzo.cddl",children:"alonzo.cddl"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"Babbage"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"https://github.com/IntersectMBO/cardano-ledger/blob/92fd6688b3cce015abc46c133c68e6ea7baa6503/eras/babbage/impl/cddl-files/babbage.cddl",children:"babbage.cddl"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"Conway"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.a,{href:"https://github.com/IntersectMBO/cardano-ledger/blob/92fd6688b3cce015abc46c133c68e6ea7baa6503/eras/conway/impl/cddl-files/conway.cddl",children:"conway.cddl"})})]})]})]}),"\n",(0,t.jsx)(a.h2,{id:"hash-digests",children:"Hash digests"}),"\n",(0,t.jsx)(a.p,{children:'Cardano uses mostly only blake2b as a hashing algorithm throughout the\nchain. Saying "mostly" because we can find some examples of SHA-256 in some\nparts of the Byron era, but let\'s not dwell on that.'}),"\n",(0,t.jsxs)(a.p,{children:["Many things called ",(0,t.jsx)(a.code,{children:"id"})," are hash digests of some serialized objects.\nFor example, a stake pool id is a hash digest of the pool\npublic cold key. A transaction id is a hash digest value of the serialized\ntransaction body. And so forth."]}),"\n",(0,t.jsxs)(a.p,{children:["Hashes are generally 32-byte long on Cardano (or 256 bits), ",(0,t.jsx)(a.strong,{children:"except for\ncredentials"})," (i.e. keys or scripts) which are 28-byte long (or 224 bits). This\nis why a policy id is only 28 bytes long: a policy id is the hash digest of\na tagged script, and scripts can be used as credentials (i.e. part of\nan address). The same goes for any hash digest of a verification key."]}),"\n",(0,t.jsx)(a.h2,{id:"policy-id-and-language-tags",children:"Policy Id and language tags"}),"\n",(0,t.jsx)(a.p,{children:"A policy id is a hash digest of a tagged script. Tagged is the keyword here.\nShould you try to calculate the policy id by simply hashing a serialized\nscript, you may find yourself with a wrong hash without knowing why."}),"\n",(0,t.jsxs)(a.p,{children:["Raw scripts aren't exact pre-image of their hash digest. Before hashing,\nscripts are prefixed with a certain discriminator byte depending on the\nlanguage. For instance, any native script is prefixed with a ",(0,t.jsx)(a.code,{children:"0x00"}),"\n(",(0,t.jsx)(a.code,{children:"0b0000_0000"}),") byte before hashing."]}),"\n",(0,t.jsx)(a.p,{children:"Here's a table summarizing all discriminators:"}),"\n",(0,t.jsxs)(a.table,{children:[(0,t.jsx)(a.thead,{children:(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.th,{children:"Language"}),(0,t.jsx)(a.th,{children:"Discriminator Byte"})]})}),(0,t.jsxs)(a.tbody,{children:[(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"Native"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"0x00"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"Plutus V1"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"0x01"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"Plutus V2"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"0x02"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"Plutus V3"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"0x03"})})]})]})]}),"\n",(0,t.jsx)(a.p,{children:"The subsequent versions of Plutus may likely follow the pattern."}),"\n",(0,t.jsx)(a.h2,{id:"rewards--withdrawals",children:"Rewards & Withdrawals"}),"\n",(0,t.jsx)(a.p,{children:"Ouroboros, the consensus algorithm used by Cardano, defines an incentive\nmechanism for stakeholders to participate in the consensus through rewards. Of\ncourse, you probably know that by now. Rewards are paid every epoch to\ndelegators that delegate their stake (i.e. ADA tokens) to a stake pool of the\nnetwork producing blocks on their behalf. Those rewards are, however, not paid\ndirectly to stakeholders; this would cause the network at every epoch boundary\nto pay out all rewards."}),"\n",(0,t.jsx)(a.p,{children:"Instead, Cardano has introduced a restricted concept of account, similar to\nwhat exists on account-based ledgers. This account is, however, singular in\nmany ways:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"It is defined by some stake credentials and owned by them;"}),"\n",(0,t.jsx)(a.li,{children:"It can only receive rewards from the protocol but not from a user-defined transaction;"}),"\n",(0,t.jsx)(a.li,{children:"It is automatically delegated;"}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"It is possible to withdraw funds from the account by issuing a withdrawal\n(which takes the form of a specific field in a transaction). A withdrawal sets\nthe balance of an account to 0 and provides a virtual pot of the account value\nto the transaction carrying it as if it was an input of that same value. That\nvalue can then be dispatched in one or more UTxO, as typically done with\nany input."}),"\n",(0,t.jsx)(a.p,{children:"The stake credentials associated with the account protect withdrawals as well.\nWho owns the stake credentials owns the right to withdraw from the account.\nThis means that reward withdrawals can be commanded by a script (and\nthus an Aiken program)."}),"\n",(0,t.jsx)(a.h2,{id:"native-scripts",children:"Native Scripts"}),"\n",(0,t.jsxs)(a.p,{children:["Before full-blown Plutus scripts, Cardano had a minimalistic scripting language\nusually referred to as ",(0,t.jsx)(a.em,{children:'"Native Script"'})," or ",(0,t.jsx)(a.em,{children:'"Phase-1 scripts"'}),". It still\nexists and provides simple, albeit useful, programmability features to Cardano.\nNative scripts come in the form of a little domain-specific language with 6\nconstructors: ",(0,t.jsx)(a.code,{children:"key"}),", ",(0,t.jsx)(a.code,{children:"all-of"}),", ",(0,t.jsx)(a.code,{children:"any-of"}),", ",(0,t.jsx)(a.code,{children:"n-of-m"}),", ",(0,t.jsx)(a.code,{children:"after"})," and ",(0,t.jsx)(a.code,{children:"before"}),"."]}),"\n",(0,t.jsxs)(a.p,{children:["In particular, they are quite handy in defining multisig addresses owned by\nmultiple tenants. You can find more about native scripts in\n",(0,t.jsx)(a.a,{href:"https://github.com/cardano-foundation/CIPs/tree/master/CIP-1854#overview",children:"CIP-1854"}),"\nand in the ",(0,t.jsx)(a.a,{href:"https://github.com/input-output-hk/cardano-ledger/releases/latest/download/shelley-ledger.pdf",children:"Formal Ledger Specification, Figure 4: Multi-signature via Native\nScripts"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"the-clean-trick-avoid-replaying-blocks",children:"The 'clean' trick: avoid replaying blocks"}),"\n",(0,t.jsxs)(a.p,{children:["Sometimes, the Cardano node will perform a complete re-validation of the chain\nas an integrity check. It does so by scanning through its local files, and\n",(0,t.jsx)(a.em,{children:"replaying"})," blocks onto each other. On Mainnet, this procedure can take\nmultiple hours and is caused, in principle, by mainly two things:"]}),"\n",(0,t.jsxs)(a.ol,{children:["\n",(0,t.jsx)(a.li,{children:"A restart after a non-clean shutdown of the node (e.g. a SIGKILL, or power outage);"}),"\n",(0,t.jsx)(a.li,{children:"A critical change in the ledger version."}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"The detection of the first scenario is sometimes a bit clunky, and the unlucky\nones amongst us have likely already experienced (sometimes several times) the\ninfamous:"}),"\n",(0,t.jsx)(a.pre,{"data-language":"text","data-theme":"default",hasCopyCode:!0,children:(0,t.jsxs)(a.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"Replayed block: slot 3844799 out of 112665654. Progress: 3.41%"})}),"\n",(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"Replayed block: slot 3844783 out of 112665654. Progress: 3.42%"})}),"\n",(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"..."})})]})}),"\n",(0,t.jsxs)(a.p,{children:["It turns out that there exists a way to skip re-validations of the first kind.\nIndeed, on start-up, the node will look for an empty file named ",(0,t.jsx)(a.code,{children:"clean"})," at the\nroot of its database folder."]}),"\n",(0,t.jsx)(a.pre,{"data-language":"text","data-theme":"default",hasCopyCode:!0,children:(0,t.jsxs)(a.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"node.db/"})}),"\n",(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"├── clean              <------------ this fellow"})}),"\n",(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"├── immutable"})}),"\n",(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"├── ledger"})}),"\n",(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"├── lock"})}),"\n",(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"├── protocolMagicId"})}),"\n",(0,t.jsx)(a.span,{className:"line",children:(0,t.jsx)(a.span,{style:{color:"var(--shiki-color-text)"},children:"└── volatile"})})]})}),"\n",(0,t.jsxs)(a.p,{children:["When present, the node will not replay blocks, unless it detects a critical\nchange in the ledger (second scenario) which happens fairly rarely. So it\nsuffices to create such a file (e.g. ",(0,t.jsx)(a.code,{children:"touch node.db/clean"})," to avoid replaying\nblocks unecessarily. This is a useful trick to use when developing with a local\nnode, but ",(0,t.jsx)(a.strong,{children:"totally unsound in a production setting"})," (especially for SPO)."]}),"\n",(0,t.jsx)(a.h2,{id:"transaction-latency-vs-finality",children:"Transaction latency vs finality"}),"\n",(0,t.jsxs)(a.p,{children:["In a distributed system like Cardano, the notion of ",(0,t.jsx)(a.em,{children:"latency"})," and ",(0,t.jsx)(a.em,{children:"finality"}),"\nare often misunderstood (or swapped). Yet, it is crucial to get them right\nespecially when it comes to transactions."]}),"\n",(0,t.jsxs)(a.p,{children:["Latency is the time it takes for a transaction to appear on the blockchain, in\na block. Finality is the time it takes for a transaction to become immutable\nand permanent. Why is that different? Because the system is distributed! And\nthat means the information is only ",(0,t.jsx)(a.em,{children:"eventually"})," true. How long is enough\ndepends on the interested parties and the type of transaction."]}),"\n",(0,t.jsxs)(a.p,{children:["It is hard to give a definite answer because finality directly depends on the\nproportion of adversarial stake in the system. And unfortunately, adversaries\ndon't walk the street waving their hands about the fact they are, in fact,\nadversaries. If we call ",(0,t.jsx)(a.code,{children:"ε"})," the proportion of adversaries (",(0,t.jsx)(a.code,{children:"[0;0.5]"}),"), and consider ",(0,t.jsx)(a.code,{children:"g"}),"\ntheir grinding power we find that under Ouroboros Praos (current Cardano\nconsensus algorithm), the ",(0,t.jsx)(a.em,{children:"probability of settlement errors"})," in terms of the\nnumber of blocks (",(0,t.jsx)(a.code,{children:"x"}),") is given by the following equation:"]}),"\n",(0,t.jsx)("img",{src:"https://aiken-lang.org/settlement_error_probability.light.svg",class:"light img-75"}),"\n",(0,t.jsx)("img",{src:"https://aiken-lang.org/settlement_error_probability.dark.svg",class:"dark  img-75"}),"\n",(0,t.jsxs)(a.p,{children:["Now, what are good values for ",(0,t.jsx)(a.code,{children:"ε"})," and ",(0,t.jsx)(a.code,{children:"g"})," is hard to say. Regarding the\ngrinding power, values in the range of ",(0,t.jsx)(a.code,{children:"10^9"}),"..",(0,t.jsx)(a.code,{children:"10^10"})," are quite conservative\nvalues. The entire Bitcoin network has a grinding power of about ",(0,t.jsx)(a.code,{children:"10^12"}),". So\nunless the entire Bitcoin network is attacking Cardano, ",(0,t.jsx)(a.code,{children:"g"})," is likely smaller\nthan ",(0,t.jsx)(a.code,{children:"10^12"}),". For the adversary proportion, as a rule of thumb, it's good to\nlook at the total stake of the largest stake pools to get an idea of how much\npower can a single entity gather."]}),"\n",(0,t.jsx)("img",{src:"https://aiken-lang.org//settlement_error_probability.png"}),"\n",(0,t.jsxs)(a.p,{children:["A good recommendation for sensitive transactions is thus to wait around 100-150\nblocks (30-50 min) whereas a few blocks is usually sufficient for small\npayments. If you want to play with the equation, feel free to look at\n",(0,t.jsx)(a.a,{href:"https://www.geogebra.org/calculator/rjttcxk8",children:"this interactive calculator"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"developer-portal",children:"Developer Portal"}),"\n",(0,t.jsxs)(a.p,{children:["There exists plenty of resources available on Cardano. Though there are a bit\nhard to find sometimes. As a rule of thumb (and unfortunately): avoid\n",(0,t.jsx)(a.a,{href:"http://docs.cardano.org",children:"http://docs.cardano.org"})," as it is often inaccurate, plain wrong or missing\ncrucial elements."]}),"\n",(0,t.jsxs)(a.p,{children:["On the other hand, the ",(0,t.jsx)(a.a,{href:"https://developers.cardano.org/",children:"Cardano Developer\nPortal"}),' is a good entry point to many of the\necosystem tooling and resources. The "Builder Tools" section is particularly\nfurnished. It is community-maintained, curated and under constant evolution.\nFeel free to contribute and ask questions there as well!']}),"\n",(0,t.jsx)(l.UW,{type:"info",children:(0,t.jsxs)(a.p,{children:["This page is copied from the ",(0,t.jsx)(a.a,{href:"https://github.com/aiken-lang/site/blob/main/src/pages/fundamentals/what-i-wish-i-knew.mdx",children:"Aiken documentation"}),"."]})})]})}let c={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:a}=Object.assign({},(0,o.a)(),e.components);return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"src/pages/user-manual/what_i_wish_i_knew.mdx",route:"/user-manual/what_i_wish_i_knew",timestamp:1762342891e3,pageMap:[{kind:"Meta",data:{index:{title:"OpShin",type:"page",display:"hidden",theme:{layout:"raw"}},"user-manual":{title:"Documentation",type:"page",href:"/user-manual/introduction"},playground:{title:"Playground",type:"page",href:"https://playground.opshin.dev"},credits:{title:"About",display:"hidden",theme:{breadcrumb:!1,footer:!0,sidebar:!1,toc:!1,pagination:!1}}}},{kind:"MdxPage",name:"index",route:"/",frontMatter:{title:"Cardano Smart Contracts in Python"}},{kind:"Folder",name:"user-manual",route:"/user-manual",children:[{kind:"Meta",data:{index:"Introduction",getting_started:"Getting Started",eutxo_crash_course:"Understanding EUTXO",language_tour:{title:"Language Tour"},smart_contract_tour:{title:"Smart Contract Tour"},common_issues:"Common Issues",what_i_wish_i_knew:"What I Wish I Knew",additional_resources:"Additional Resources"}},{kind:"MdxPage",name:"additional_resources",route:"/user-manual/additional_resources"},{kind:"MdxPage",name:"common_issues",route:"/user-manual/common_issues"},{kind:"MdxPage",name:"eutxo_crash_course",route:"/user-manual/eutxo_crash_course"},{kind:"MdxPage",name:"getting_started",route:"/user-manual/getting_started"},{kind:"MdxPage",name:"index",route:"/user-manual",frontMatter:{title:"Introduction"}},{kind:"Folder",name:"language_tour",route:"/user-manual/language_tour",children:[{kind:"Meta",data:{index:"Overview",structure:"Structure",primitive_types:"Primitive Types",container_types:"Container Types",classes:"Classes",variables:"Variables",conditional_statements:"Conditional Statements",loop_statements:"Loop Statements",functions:"Functions",builtins:"Builtins",stdlib:{title:"Standard Library",type:"page",href:"https://opshin.opshin.dev/opshin/std/index.html",newWindow:!0}}},{kind:"MdxPage",name:"builtins",route:"/user-manual/language_tour/builtins"},{kind:"MdxPage",name:"classes",route:"/user-manual/language_tour/classes"},{kind:"MdxPage",name:"conditional_statements",route:"/user-manual/language_tour/conditional_statements"},{kind:"MdxPage",name:"container_types",route:"/user-manual/language_tour/container_types"},{kind:"MdxPage",name:"functions",route:"/user-manual/language_tour/functions"},{kind:"MdxPage",name:"index",route:"/user-manual/language_tour"},{kind:"MdxPage",name:"loop_statements",route:"/user-manual/language_tour/loop_statements"},{kind:"MdxPage",name:"primitive_types",route:"/user-manual/language_tour/primitive_types"},{kind:"MdxPage",name:"structure",route:"/user-manual/language_tour/structure"},{kind:"MdxPage",name:"variables",route:"/user-manual/language_tour/variables"}]},{kind:"Folder",name:"smart_contract_tour",route:"/user-manual/smart_contract_tour",children:[{kind:"Meta",data:{index:"Overview",validator_scripts:"Validator Scripts",the_scriptcontext:"The ScriptContext",handling_time:"Handling Time",migration_v3:"Migrating to PlutusV3",common_design_patterns:"Common Design Patterns",advanced:"Advanced Topics",ledger_def:{title:"Ledger Definitions",type:"page",href:"https://opshin.opshin.dev/opshin/ledger/index.html",newWindow:!0},examples:{title:"Examples",type:"page",href:"https://github.com/OpShin/awesome-opshin/#examples",newWindow:!0}}},{kind:"MdxPage",name:"advanced",route:"/user-manual/smart_contract_tour/advanced"},{kind:"MdxPage",name:"common_design_patterns",route:"/user-manual/smart_contract_tour/common_design_patterns"},{kind:"MdxPage",name:"handling_time",route:"/user-manual/smart_contract_tour/handling_time"},{kind:"MdxPage",name:"index",route:"/user-manual/smart_contract_tour"},{kind:"MdxPage",name:"migration_v3",route:"/user-manual/smart_contract_tour/migration_v3"},{kind:"MdxPage",name:"the_scriptcontext",route:"/user-manual/smart_contract_tour/the_scriptcontext"},{kind:"MdxPage",name:"validator_scripts",route:"/user-manual/smart_contract_tour/validator_scripts"}]},{kind:"MdxPage",name:"what_i_wish_i_knew",route:"/user-manual/what_i_wish_i_knew"}]}],flexsearch:{codeblocks:!0},readingTime:{text:"11 min read",minutes:10.41,time:624600,words:2082},title:"What I wish I knew when exploring Cardano",headings:d},pageNextRoute:"/user-manual/what_i_wish_i_knew",nextraLayout:i.ZP,themeConfig:r.Z};a.default=(0,s.j)(c)},8426:function(e,a,n){"use strict";var t=n(5893),s=n(5379),i=n.n(s),r=n(2197),o=n(2010);let l={logo:()=>{let{resolvedTheme:e}=(0,o.F)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("img",{style:{height:"var(--nextra-navbar-height)"},src:"light"===e?"/logo-dark.png":"/logo.png"})})},head:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("link",{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}),(0,t.jsx)("meta",{name:"twitter:image",content:"https://opshin.dev/open-graph.jpg"}),(0,t.jsx)("meta",{name:"twitter:site:domain",content:"opshin.dev"})]}),project:{link:"https://github.com/opshin"},chat:{link:"https://discord.com/invite/umR3A2g4uw"},search:{placeholder:"Search the docs...",emptyResult:null,error:"",loading:null},toc:{extraContent:(0,t.jsx)(t.Fragment,{})},i18n:[{locale:"en",text:"English"}],docsRepositoryBase:"https://github.com/opshin/site/blob/main",useNextSeoProps(){let{title:e}=(0,r.ZR)(),a="Cardano Smart Contracts in Python";return{titleTemplate:"OpShin | %s",description:a,canonical:"https://opshin.dev/",openGraph:{url:"https://opshin.dev/",description:a,images:[{url:"https://opshin.dev/open-graph.jpg",width:800,height:418,alt:"OpShin - Cardano Smart Contracts in Python",type:"image/jpg"}]},siteName:"OpShin",twitter:{handle:"@OpShinDev",site:"https://opshin.dev",cardType:"summary_large_image"}}},footer:{component:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("footer",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsxs)("aside",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsx)("img",{src:"/typo.webp",className:"jsx-111148e9a1b1c3f"}),(0,t.jsx)("p",{className:"jsx-111148e9a1b1c3f",children:"Build without limits"})]}),(0,t.jsxs)("nav",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsxs)("h2",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"jsx-111148e9a1b1c3f",children:[(0,t.jsx)("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",className:"jsx-111148e9a1b1c3f"}),(0,t.jsx)("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",className:"jsx-111148e9a1b1c3f"})]})," Quick Links"]}),(0,t.jsxs)("ul",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://github.com/OpShin/opshin-starter-kit",className:"jsx-111148e9a1b1c3f",children:"Starter Kit"})}),(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://github.com/OpShin/opshin-pioneer-program",className:"jsx-111148e9a1b1c3f",children:"Pioneer Program"})}),(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://opshin.opshin.dev/opshin/",className:"jsx-111148e9a1b1c3f",children:"Docs"})})]})]}),(0,t.jsxs)("nav",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsxs)("h2",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z",className:"jsx-111148e9a1b1c3f"})}),"Community"]}),(0,t.jsxs)("ul",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://discord.com/invite/umR3A2g4uw",className:"jsx-111148e9a1b1c3f",children:"Discord"})}),(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://twitter.com/OpShinDev",className:"jsx-111148e9a1b1c3f",children:"Twitter"})}),(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://github.com/OpShin",className:"jsx-111148e9a1b1c3f",children:"GitHub"})}),(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://patreon.com/OpShin",className:"jsx-111148e9a1b1c3f",children:"Patreon"})})]})]}),(0,t.jsxs)("nav",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsxs)("h2",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"jsx-111148e9a1b1c3f",children:[(0,t.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",className:"jsx-111148e9a1b1c3f"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4",className:"jsx-111148e9a1b1c3f"}),(0,t.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87",className:"jsx-111148e9a1b1c3f"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75",className:"jsx-111148e9a1b1c3f"})]}),"Partners"]}),(0,t.jsxs)("ul",{className:"jsx-111148e9a1b1c3f",children:[(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://emurgo.io/",className:"jsx-111148e9a1b1c3f",children:"Emurgo"})}),(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://inversion.dev",className:"jsx-111148e9a1b1c3f",children:"Inversion.Dev"})}),(0,t.jsx)("li",{className:"jsx-111148e9a1b1c3f",children:(0,t.jsx)("a",{href:"https://muesliswap.com",className:"jsx-111148e9a1b1c3f",children:"MuesliSwap"})})]})]})]}),(0,t.jsx)(i(),{id:"111148e9a1b1c3f",children:"footer.jsx-111148e9a1b1c3f{background:#0067b4;color:#fff;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin:0 auto;padding:2rem 12.5vw}footer.jsx-111148e9a1b1c3f aside.jsx-111148e9a1b1c3f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;font-variant:small-caps;font-size:.75em}footer.jsx-111148e9a1b1c3f aside.jsx-111148e9a1b1c3f p.jsx-111148e9a1b1c3f{padding:0 .15rem}footer.jsx-111148e9a1b1c3f aside.jsx-111148e9a1b1c3f img.jsx-111148e9a1b1c3f{width:4rem;height:auto}@media(max-width:1e3px){footer.jsx-111148e9a1b1c3f{padding:2rem 5%}}@media(max-width:600px){footer.jsx-111148e9a1b1c3f{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}footer.jsx-111148e9a1b1c3f aside.jsx-111148e9a1b1c3f+nav.jsx-111148e9a1b1c3f,footer.jsx-111148e9a1b1c3f nav.jsx-111148e9a1b1c3f+nav.jsx-111148e9a1b1c3f{margin-top:1rem}}footer.jsx-111148e9a1b1c3f nav.jsx-111148e9a1b1c3f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}footer.jsx-111148e9a1b1c3f nav.jsx-111148e9a1b1c3f h2.jsx-111148e9a1b1c3f{font-weight:bold;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;margin-bottom:.35rem}footer.jsx-111148e9a1b1c3f nav.jsx-111148e9a1b1c3f h2.jsx-111148e9a1b1c3f>svg.jsx-111148e9a1b1c3f{width:1em;height:auto;margin-right:.5rem}footer.jsx-111148e9a1b1c3f nav.jsx-111148e9a1b1c3f ul.jsx-111148e9a1b1c3f{font-size:.9em}"})]})}};a.Z=l},5789:function(){}},function(e){e.O(0,[774,915,888,179],function(){return e(e.s=3598)}),_N_E=e.O()}]);